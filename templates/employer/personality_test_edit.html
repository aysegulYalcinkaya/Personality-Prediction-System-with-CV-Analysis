{% extends 'employer/base.html' %}

{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'css/styles_personality.css' %}">

{% block content %}
<div class="container">
    <h2>Personality Test Questions</h2>

    <div style="margin-top: 50px;"></div>

    <form method="post">
        {% csrf_token %}
        <div class="mb-3">
            <label for="text" class="form-label">Question Text</label>
            <input type="text" class="form-control" id="text" name="text" required>
        </div>
        <div class="mb-3">
            <label for="category" class="form-label">Category</label>
            <select class="form-select" id="category" name="category" required>
                <option value="neuroticism">Neuroticism</option>
                <option value="extroversion">Extroversion</option>
                <option value="openness">Openness</option>
                <option value="agreeableness">Agreeableness</option>
                <option value="conscientiousness">Conscientiousness</option>
            </select>
        </div>
        <button type="submit" class="btn btn-primary mb-2">Add</button>
    </form>

    <div style="margin-top: 50px;"></div>

    <ul class="no-bullets">
        {% for category, question_list in categorized_questions.items %}
        <li class="category-li">
            <h4><strong>{{ category|capfirst }}</strong></h4>
            <ul class="no-bullets">
                {% for question in question_list %}
                <li class="question">
                    {{ forloop.counter }}. {{ question.text }}
                    <a href="{% url 'delete_question' question.id %}" class="btn btn-danger btn-sm delete-btn">Delete</a>
                </li>
                {% endfor %}
            </ul>
        </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
